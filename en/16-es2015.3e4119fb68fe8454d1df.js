(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7wo0":function(e,t,o){"use strict";o.r(t),o.d(t,"SettingsPageModule",function(){return m});var n=o("TEn/"),i=o("tyNb"),a=o("ofXK"),r=o("3Pt+"),s=o("mrSG"),l=o("AnxF"),c=o("KN1t"),b=o("fXoL"),d=o("e8h1");const g=["DrawerDockingToggle"];function u(e,t){if(1&e){const e=b.Mb();b.Lb(0,"ion-select",35),b.Xb("ionChange",function(){return b.jc(e),b.Zb().logoutFromMoodle()}),b.Lb(1,"ion-select-option",36),b.pc(2,"sign out"),b.Kb(),b.Kb()}if(2&e){const e=b.Zb();b.ec("interfaceOptions",e.actionSheetOptions)}}let p=(()=>{class e{constructor(e,t,o){this.storage=e,this.moodleService=t,this.settingsModel=o,this.MOODLE_TOKEN="moodle_token",this.MOODLE_USER="moodle_user",this.actionSheetOptions={header:"Moodle"}}ngAfterViewInit(){this.drawerDockingToggle.checked=this.settingsModel.DrawerDocking}get Appearance(){return this.settingsModel.AutoDarkMode?"System":this.settingsModel.DarkMode?"Dark":"Light"}ionViewWillEnter(){return Object(s.a)(this,void 0,void 0,function*(){this.storage.ready().then(()=>Object(s.a)(this,void 0,void 0,function*(){if(yield this.isMoodleTokenPersisted()){const e=yield this.moodleService.getCalenderEventsWeek(this.persistedMoodleToken).toPromise();if(this.moodleService.containsEvents(e))return this.isSignedIn=!0,void(yield this.getMoodleUserName())}this.setLoggedOutFromMoodle()}))})}logoutFromMoodle(){return Object(s.a)(this,void 0,void 0,function*(){yield this.storage.remove(this.MOODLE_USER).then(()=>{this.storage.remove(this.MOODLE_TOKEN).then(()=>{this.setLoggedOutFromMoodle()})})})}isMoodleTokenPersisted(){return Object(s.a)(this,void 0,void 0,function*(){return yield this.storage.get(this.MOODLE_TOKEN).then(e=>(this.persistedMoodleToken=e,null!=this.persistedMoodleToken))})}setLoggedOutFromMoodle(){this.isSignedIn=!1,this.moodleUserName="No user signed in."}getMoodleUserName(){return Object(s.a)(this,void 0,void 0,function*(){yield this.storage.get(this.MOODLE_USER).then(e=>{this.moodleUserName=e})})}onDrawerDockingToggleChange(e){this.settingsModel.DrawerDocking=e.detail.checked}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(d.b),b.Ib(l.a),b.Ib(c.a))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-settings"]],viewQuery:function(e,t){if(1&e&&b.tc(g,!0),2&e){let e;b.gc(e=b.Yb())&&(t.drawerDockingToggle=e.first)}},decls:53,vars:4,consts:function(){let e,t,o,n,i,a;return e=" Settings ",t="" + "\ufffd#22\ufffd" + "Language" + "\ufffd/#22\ufffd" + "" + "\ufffd#23\ufffd" + "English" + "\ufffd/#23\ufffd" + "",o="Appearance",n="Drawer Docking",i="Help",a="About",[e,["fixed",""],[1,"padding"],["lines","none"],[3,"routerLink"],["slot","start"],["size","large","name","person-circle-sharp"],[3,"innerHTML"],["selected-text","","interface","action-sheet","mode","ios",3,"interfaceOptions","ionChange",4,"ngIf"],["lines","",1,"ion-padding-top","ion-margin-top"],["routerLink","language"],t,["slot","end"],["routerLink","appearance"],o,["slot","end",3,"textContent"],["slot","end","color","dark","name","information-circle-outline","data-tooltip","Einrasten der Schublade Ein-/Ausschalten","data-tooltip-pos","left center"],n,[3,"ionChange"],["DrawerDockingToggle",""],["href","#"],["slot","end","color","dark","name","help-circle-outline"],i,["href","https://github.com/Studi-Guide","target","_blank"],["slot","end","color","dark","name","information-circle-outline"],a,[1,"ion-justify-content-center"],["size","large","name","logo-android","data-tooltip","Android","data-tooltip-pos","left center"],["size","large","name","logo-apple","data-tooltip","Apple","data-tooltip-pos","center top"],["size","large","name","logo-tux","data-tooltip","Linux","data-tooltip-pos","center bottom"],["size","large","name","logo-windows","data-tooltip","Windows"],["size","large","name","logo-firefox","data-tooltip","Firefox","data-tooltip-pos","center bottom"],["size","large","name","logo-chrome","data-tooltip","Chrome"],["size","large","name","logo-electron","data-tooltip","Electron","data-tooltip-pos","center bottom"],["size","large","name","logo-ionic","data-tooltip","Ionic","data-tooltip-pos","right center"],["selected-text","","interface","action-sheet","mode","ios",3,"interfaceOptions","ionChange"],["id","moodle-logout","value","sign-out","selected-text",""]]},template:function(e,t){1&e&&(b.Lb(0,"ion-header"),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-title"),b.Pb(3,0),b.Kb(),b.Kb(),b.Kb(),b.Lb(4,"ion-content"),b.Lb(5,"ion-grid",1),b.Lb(6,"div",2),b.Lb(7,"ion-list-header"),b.pc(8,"Accounts"),b.Kb(),b.Lb(9,"ion-list",3),b.Lb(10,"ion-item",4),b.Lb(11,"ion-avatar",5),b.Jb(12,"ion-icon",6),b.Kb(),b.Lb(13,"ion-label"),b.Lb(14,"h3"),b.pc(15,"Moodle"),b.Kb(),b.Jb(16,"p",7),b.Kb(),b.oc(17,u,3,1,"ion-select",8),b.Kb(),b.Kb(),b.Kb(),b.Jb(18,"hr"),b.Lb(19,"ion-list",9),b.Lb(20,"ion-item",10),b.Sb(21,11),b.Jb(22,"ion-label"),b.Jb(23,"ion-note",12),b.Qb(),b.Kb(),b.Lb(24,"ion-item",13),b.Lb(25,"ion-label"),b.Pb(26,14),b.Kb(),b.Jb(27,"ion-note",15),b.Kb(),b.Lb(28,"ion-item"),b.Jb(29,"ion-icon",16),b.Lb(30,"ion-label"),b.Pb(31,17),b.Kb(),b.Lb(32,"ion-toggle",18,19),b.Xb("ionChange",function(e){return t.onDrawerDockingToggleChange(e)}),b.Kb(),b.Kb(),b.Lb(34,"ion-item",20),b.Jb(35,"ion-icon",21),b.Lb(36,"ion-label"),b.Pb(37,22),b.Kb(),b.Kb(),b.Lb(38,"ion-item",23),b.Jb(39,"ion-icon",24),b.Lb(40,"ion-label"),b.Pb(41,25),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Lb(42,"ion-footer"),b.Lb(43,"ion-grid"),b.Lb(44,"ion-row",26),b.Jb(45,"ion-icon",27),b.Jb(46,"ion-icon",28),b.Jb(47,"ion-icon",29),b.Jb(48,"ion-icon",30),b.Jb(49,"ion-icon",31),b.Jb(50,"ion-icon",32),b.Jb(51,"ion-icon",33),b.Jb(52,"ion-icon",34),b.Kb(),b.Kb(),b.Kb()),2&e&&(b.xb(10),b.fc("routerLink",t.isSignedIn?"/tabs/settings":"/tabs/schedule"),b.xb(6),b.ec("innerHTML",t.moodleUserName,b.kc),b.xb(1),b.ec("ngIf",t.isSignedIn),b.xb(10),b.ec("textContent",t.Appearance))},directives:[n.s,n.U,n.S,n.p,n.r,n.z,n.y,n.v,n.cb,i.h,n.e,n.t,n.x,a.j,n.A,n.T,n.a,n.q,n.I,n.K,n.db,n.L],styles:[""]}),e})(),h=(()=>{class e{constructor(e,t){this.router=e,this.locale=t,this.languages=[{Language:"English",Identifier:"en-US"},{Language:"German",Identifier:"de"}]}ngOnInit(){console.log(this.router.url,this.locale)}SelectLanguageClick(e){console.log(e),e!==this.locale?this.router.navigate(["/"+e+this.router.url]):console.log("locale",this.locale,"not found in current URL")}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(i.g),b.Ib(b.v))},e.\u0275cmp=b.Cb({type:e,selectors:[["detail-view-select-language"]],decls:11,vars:0,consts:function(){let e,t;return e="Select Language",t="" + "\ufffd#9\ufffd" + "English" + "[\ufffd/#9\ufffd|\ufffd/#10\ufffd]" + "" + "\ufffd#10\ufffd" + "German" + "[\ufffd/#9\ufffd|\ufffd/#10\ufffd]" + "",t=b.Rb(t),[["translucent",""],["slot","start"],["defaultHref","/"],e,t,["href","/en"],["href","/de"]]},template:function(e,t){1&e&&(b.Lb(0,"ion-header",0),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Kb(),b.Lb(4,"ion-title"),b.Pb(5,3),b.Kb(),b.Kb(),b.Kb(),b.Lb(6,"ion-content"),b.Lb(7,"ion-list"),b.Sb(8,4),b.Jb(9,"ion-item",5),b.Jb(10,"ion-item",6),b.Qb(),b.Kb(),b.Kb())},directives:[n.s,n.U,n.i,n.f,n.g,n.S,n.p,n.y,n.v],styles:[""]}),e})(),f=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[a.b,n.V]]}),e})(),L=(()=>{class e{constructor(e){this.settingsModel=e,this.selectedAppearance=e.AutoDarkMode?"system":e.DarkMode?"dark":"light"}ngOnInit(){}onAppearanceChanged(e){var t;if(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.value)switch(e.detail.value){case"system":this.settingsModel.AutoDarkMode=!0;break;case"light":this.settingsModel.AutoDarkMode&&(this.settingsModel.AutoDarkMode=!1),this.settingsModel.DarkMode=!1;break;case"dark":this.settingsModel.AutoDarkMode&&(this.settingsModel.AutoDarkMode=!1),this.settingsModel.DarkMode=!0}}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(c.a))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-detail-view-select-appearance"]],decls:22,vars:1,consts:function(){let e,t,o,n;return e="Select Appearance",t="System",o="Light",n="Dark",[["translucent",""],["slot","start"],["defaultHref","/"],e,["fixed",""],[3,"value","ionChange"],t,["slot","end","color","primary","value","system"],o,["slot","end","color","primary","value","light"],n,["slot","end","color","primary","value","dark"]]},template:function(e,t){1&e&&(b.Lb(0,"ion-header",0),b.Lb(1,"ion-toolbar"),b.Lb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Kb(),b.Lb(4,"ion-title"),b.Pb(5,3),b.Kb(),b.Kb(),b.Kb(),b.Lb(6,"ion-content"),b.Lb(7,"ion-grid",4),b.Lb(8,"ion-list"),b.Lb(9,"ion-radio-group",5),b.Xb("ionChange",function(e){return t.onAppearanceChanged(e)}),b.Lb(10,"ion-item"),b.Lb(11,"ion-label"),b.Pb(12,6),b.Kb(),b.Jb(13,"ion-radio",7),b.Kb(),b.Lb(14,"ion-item"),b.Lb(15,"ion-label"),b.Pb(16,8),b.Kb(),b.Jb(17,"ion-radio",9),b.Kb(),b.Lb(18,"ion-item"),b.Lb(19,"ion-label"),b.Pb(20,10),b.Kb(),b.Jb(21,"ion-radio",11),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb()),2&e&&(b.xb(9),b.ec("value",t.selectedAppearance))},directives:[n.s,n.U,n.i,n.f,n.g,n.S,n.p,n.r,n.y,n.D,n.db,n.v,n.x,n.C,n.bb],styles:[""]}),e})(),m=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[n.V,a.b,r.a,i.i.forChild([{path:"",component:p},{path:"language",component:h},{path:"appearance",component:L}]),f]]}),e})()}}]);