<ion-content scroll-y="false">
  <ion-progress-bar type="indeterminate" color="secondary" *ngIf="progressIsVisible"></ion-progress-bar>
  <ion-item>
    <ion-label position="stacked"><ion-text color="primary">room / floor</ion-text></ion-label>
    <ion-input type="text" placeholder="KA.3xx" [(ngModel)]="startInput"></ion-input>
  </ion-item>
  <ion-item *ngIf="routeInputIsVisible">
    <ion-label position="stacked"><ion-text color="primary">destination</ion-text></ion-label>
    <ion-input type="text" placeholder="KA.3yy" [(ngModel)]="destinationInput"></ion-input>
  </ion-item>
  <ion-grid>
    <ion-row>
      <ion-col size="8">
        <ion-button size="small" color="primary" (click)="showFloor()" *ngIf="searchBtnIsVisible">
          <ion-icon slot="end" name="search"></ion-icon>
          search
        </ion-button>
        <ion-button size="small" color="primary" (click)="showRoute()" *ngIf="routeBtnIsVisible">
          <ion-icon slot="end" name="map"></ion-icon>
          <span id="routeBtnText">route</span>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div id="building-map" *ngIf="mapIsVisible">
    <svg xmlns="http://www.w3.org/2000/svg" attr.width="{{mapSvgWidth}}" attr.height="{{mapSvgHeight}}" class="center">
      <path *ngFor="let path of calculatedRoomPaths"
            attr.d="{{path.d}}"
            attr.fill="{{path.fill}}"
            stroke="#FFF"
      />
      <text *ngFor="let roomName of roomNames"
            attr.x="{{roomName.x}}"
            attr.y="{{roomName.y}}"
            font-size="9px"
            fill="#FFF">
        {{roomName.name}}
      </text>
      <path *ngFor="let doorLine of calculatedDoorLines" attr.d="{{doorLine.d}}" attr.stroke="{{doorLine.fill}}" />
      <!-- TEST -->
      <circle *ngFor="let pathNode of testRoute" attr.cx="{{pathNode.X}}" attr.cy="{{pathNode.Y}}" r="2" fill="red" />
      <!-- TEST END -->
      <polyline attr.points="{{calculatedRoute}}" style="fill:none;stroke:#A00;stroke-width:3" />
    </svg>
  </div>
</ion-content>