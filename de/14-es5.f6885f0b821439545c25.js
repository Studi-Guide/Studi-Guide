!function(){function e(){var n=c([":Select Language|Languages\u241fb47b79397919ae72f70bdc7252be4e238da67d8d\u241f1685538222344471199:",":START_TAG_ION_ITEM:English",":CLOSE_TAG_ION_ITEM:",":START_TAG_ION_ITEM_1:German",":CLOSE_TAG_ION_ITEM:"]);return e=function(){return n},n}function n(){var e=c([":Select Language|Header\u241f6729329861748a1ac918658f7871a97414091deb\u241f1461232356477253008:Select Language"]);return n=function(){return e},e}function t(){var e=c([":Settings|DrawerDocking\u241f54a38692b3cb01fd464eaff18a774cced79962ac\u241f4241466071733426227:Drawer Docking"]);return t=function(){return e},e}function o(){var e=c([":Settings|About\u241fe3ac5f8fae66ee7d38924f267b57dbc2ae4d16d8\u241f8383233070503389371:About"]);return o=function(){return e},e}function i(){var e=c([":Settings|Help\u241f38eca8ed965ed27304f3e8f5505492248159100b\u241f2306594643335405249:Help"]);return i=function(){return e},e}function r(){var e=c([":Settings|Navigate to Language Selection\u241f8943e53641a04eb7defe5a7e15698f4924c59196\u241f3167785507334604974:",":START_TAG_ION_LABEL:Language",":CLOSE_TAG_ION_LABEL:",":START_TAG_ION_NOTE:English",":CLOSE_TAG_ION_NOTE:"]);return r=function(){return e},e}function a(){var e=c([":Settings|Header\u241fcd3c4d3ddc94ff59b452b521a7945485f22a18cf\u241f2320123272127382813: Settings "]);return a=function(){return e},e}function c(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,n,t){return n&&u(e.prototype,n),t&&u(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"7wo0":function(c,u,b){"use strict";b.r(u),b.d(u,"SettingsPageModule",function(){return D});var g=b("TEn/"),d=b("tyNb"),f=b("ofXK"),h=b("3Pt+"),m=b("mrSG"),v=b("AnxF"),p=b("KN1t"),O=b("YD5U"),k=b("fXoL"),w=b("e8h1"),I=["DrawerDockingToggle"];function T(e,n){if(1&e){var t=k.Lb();k.Kb(0,"ion-select",30),k.Wb("ionChange",function(){return k.hc(t),k.Yb().logoutFromMoodle()}),k.Kb(1,"ion-select-option",31),k.nc(2,"sign out"),k.Jb(),k.Jb()}if(2&e){var o=k.Yb();k.dc("interfaceOptions",o.actionSheetOptions)}}var K,S,L,E,_=((E=function(){function e(n,t,o){s(this,e),this.storage=n,this.moodleService=t,this.settingsModel=o,this.MOODLE_TOKEN="moodle_token",this.MOODLE_USER="moodle_user",this.actionSheetOptions={header:"Moodle"}}return l(e,[{key:"ngAfterViewInit",value:function(){this.drawerDockingToggle.checked=this.settingsModel.DrawerDocking}},{key:"ionViewWillEnter",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.ready().then(function(){return Object(m.a)(n,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isMoodleTokenPersisted();case 2:if(!e.sent){e.next=11;break}return e.next=5,this.moodleService.getCalenderEventsWeek(this.persistedMoodleToken).toPromise();case 5:if(n=e.sent,!this.moodleService.containsEvents(n)){e.next=11;break}return this.isSignedIn=!0,e.next=10,this.getMoodleUserName();case 10:return e.abrupt("return",void e.sent);case 11:this.setLoggedOutFromMoodle();case 12:case"end":return e.stop()}},e,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"logoutFromMoodle",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.remove(this.MOODLE_USER).then(function(){n.storage.remove(n.MOODLE_TOKEN).then(function(){n.setLoggedOutFromMoodle()})});case 2:case"end":return e.stop()}},e,this)}))}},{key:"isMoodleTokenPersisted",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.get(this.MOODLE_TOKEN).then(function(e){return n.persistedMoodleToken=e,null!=n.persistedMoodleToken});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}},{key:"setLoggedOutFromMoodle",value:function(){this.isSignedIn=!1,this.moodleUserName="No user signed in."}},{key:"getMoodleUserName",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.get(this.MOODLE_USER).then(function(e){n.moodleUserName=e});case 2:case"end":return e.stop()}},e,this)}))}},{key:"onDrawerDockingToggleChange",value:function(e){this.settingsModel.DrawerDocking=e.detail.checked,O.a.DrawerDocking=this.settingsModel.DrawerDocking}}]),e}()).\u0275fac=function(e){return new(e||E)(k.Hb(w.b),k.Hb(v.a),k.Hb(p.a))},E.\u0275cmp=k.Bb({type:E,selectors:[["app-settings"]],viewQuery:function(e,n){var t;1&e&&k.rc(I,!0),2&e&&k.fc(t=k.Xb())&&(n.drawerDockingToggle=t.first)},decls:48,vars:3,consts:function(){return["\n      Einstellungen\n    ",[1,"padding"],["lines","none"],[3,"routerLink"],["slot","start"],["size","large","name","person-circle-sharp"],[3,"innerHTML"],["selected-text","","interface","action-sheet","mode","ios",3,"interfaceOptions","ionChange",4,"ngIf"],["lines","",1,"ion-padding-top","ion-margin-top"],["routerLink","language"],"\n      " + "\ufffd#21\ufffd" + "Sprache" + "\ufffd/#21\ufffd" + "\n      " + "\ufffd#22\ufffd" + "Deutsch" + "\ufffd/#22\ufffd" + "\n    ",["slot","end"],["href","#"],["slot","end","color","dark","name","help-circle-outline"],"Hilfe",["href","https://github.com/Studi-Guide","target","_blank"],["slot","end","color","dark","name","information-circle-outline"],"\xDCber Uns","Drawer einrasten",[3,"ionChange"],["DrawerDockingToggle",""],[1,"ion-justify-content-center"],["size","large","name","logo-android"],["size","large","name","logo-apple"],["size","large","name","logo-tux"],["size","large","name","logo-windows"],["size","large","name","logo-firefox"],["size","large","name","logo-chrome"],["size","large","name","logo-electron"],["size","large","name","logo-ionic"],["selected-text","","interface","action-sheet","mode","ios",3,"interfaceOptions","ionChange"],["id","moodle-logout","value","sign-out","selected-text",""]]},template:function(e,n){1&e&&(k.Kb(0,"ion-header"),k.Kb(1,"ion-toolbar"),k.Kb(2,"ion-title"),k.Ob(3,0),k.Jb(),k.Jb(),k.Jb(),k.Kb(4,"ion-content"),k.Kb(5,"div",1),k.Kb(6,"ion-list-header"),k.nc(7,"Accounts"),k.Jb(),k.Kb(8,"ion-list",2),k.Kb(9,"ion-item",3),k.Kb(10,"ion-avatar",4),k.Ib(11,"ion-icon",5),k.Jb(),k.Kb(12,"ion-label"),k.Kb(13,"h3"),k.nc(14,"Moodle"),k.Jb(),k.Ib(15,"p",6),k.Jb(),k.mc(16,T,3,1,"ion-select",7),k.Jb(),k.Jb(),k.Jb(),k.Ib(17,"hr"),k.Kb(18,"ion-list",8),k.Kb(19,"ion-item",9),k.Rb(20,10),k.Ib(21,"ion-label"),k.Ib(22,"ion-note",11),k.Pb(),k.Jb(),k.Kb(23,"ion-item",12),k.Ib(24,"ion-icon",13),k.Kb(25,"ion-label"),k.Ob(26,14),k.Jb(),k.Jb(),k.Kb(27,"ion-item",15),k.Ib(28,"ion-icon",16),k.Kb(29,"ion-label"),k.Ob(30,17),k.Jb(),k.Jb(),k.Kb(31,"ion-item"),k.Ib(32,"ion-icon",16),k.Kb(33,"ion-label"),k.Ob(34,18),k.Jb(),k.Kb(35,"ion-toggle",19,20),k.Wb("ionChange",function(e){return n.onDrawerDockingToggleChange(e)}),k.Jb(),k.Jb(),k.Jb(),k.Jb(),k.Kb(37,"ion-footer"),k.Kb(38,"ion-grid"),k.Kb(39,"ion-row",21),k.Ib(40,"ion-icon",22),k.Ib(41,"ion-icon",23),k.Ib(42,"ion-icon",24),k.Ib(43,"ion-icon",25),k.Ib(44,"ion-icon",26),k.Ib(45,"ion-icon",27),k.Ib(46,"ion-icon",28),k.Ib(47,"ion-icon",29),k.Jb(),k.Jb(),k.Jb()),2&e&&(k.xb(9),k.ec("routerLink",n.isSignedIn?"/tabs/settings":"/tabs/schedule"),k.xb(6),k.dc("innerHTML",n.moodleUserName,k.ic),k.xb(1),k.dc("ngIf",n.isSignedIn))},directives:[g.v,g.U,g.S,g.p,g.C,g.B,g.y,g.bb,d.h,g.e,g.w,g.A,f.j,g.D,g.T,g.a,g.t,g.u,g.I,g.K,g.cb,g.L],styles:[""]}),E),J=((L=function(){function e(n,t){s(this,e),this.router=n,this.locale=t,this.languages=[{Language:"English",Identifier:"en-US"},{Language:"German",Identifier:"de"}]}return l(e,[{key:"ngOnInit",value:function(){console.log(this.router.url,this.locale)}},{key:"SelectLanguageClick",value:function(e){console.log(e),e!==this.locale?this.router.navigate(["/"+e+this.router.url]):console.log("locale",this.locale,"not found in current URL")}}]),e}()).\u0275fac=function(e){return new(e||L)(k.Hb(d.g),k.Hb(k.v))},L.\u0275cmp=k.Bb({type:L,selectors:[["detail-view-select-language"]],decls:11,vars:0,consts:function(){var t,o;return t="Sprache w\xE4hlen",o="\n    " + "\ufffd#9\ufffd" + "Englisch" + "[\ufffd/#9\ufffd|\ufffd/#10\ufffd]" + "\n    " + "\ufffd#10\ufffd" + "Deutsch" + "[\ufffd/#9\ufffd|\ufffd/#10\ufffd]" + "\n  ",[["translucent",""],["slot","start"],["defaultHref","/"],t,o=k.Qb(o),["href","/en"],["href","/de"]]},template:function(e,n){1&e&&(k.Kb(0,"ion-header",0),k.Kb(1,"ion-toolbar"),k.Kb(2,"ion-buttons",1),k.Ib(3,"ion-back-button",2),k.Jb(),k.Kb(4,"ion-title"),k.Ob(5,3),k.Jb(),k.Jb(),k.Jb(),k.Kb(6,"ion-content"),k.Kb(7,"ion-list"),k.Rb(8,4),k.Ib(9,"ion-item",5),k.Ib(10,"ion-item",6),k.Pb(),k.Jb(),k.Jb())},directives:[g.v,g.U,g.i,g.f,g.g,g.S,g.p,g.B,g.y],styles:[""]}),L),M=((S=function e(){s(this,e)}).\u0275mod=k.Fb({type:S}),S.\u0275inj=k.Eb({factory:function(e){return new(e||S)},imports:[[f.b,g.V]]}),S),D=((K=function e(){s(this,e)}).\u0275mod=k.Fb({type:K}),K.\u0275inj=k.Eb({factory:function(e){return new(e||K)},imports:[[g.V,f.b,h.a,d.i.forChild([{path:"",component:_},{path:"language",component:J}]),M]]}),K)}}])}();