(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{YXEz:function(e,n,i){"use strict";i.r(n),i.d(n,"NewsPageModule",function(){return f});var t=i("TEn/"),o=i("tyNb"),c=i("ofXK"),s=i("3Pt+"),r=i("mrSG"),d=i("g9wL"),b=i("fXoL");function l(e,n){if(1&e&&(b.Kb(0,"div"),b.Ib(1,"div",5),b.Jb()),2&e){const e=b.Yb().$implicit;b.xb(1),b.dc("innerHTML",e.content,b.jc)}}function a(e,n){if(1&e){const e=b.Lb();b.Kb(0,"ion-item-sliding"),b.Kb(1,"ion-item"),b.Kb(2,"ion-card",4),b.Wb("click",function(){b.ic(e);const i=n.$implicit;return b.Yb().onFeedClick(i)}),b.Kb(3,"ion-card-header"),b.Kb(4,"ion-card-subtitle"),b.oc(5),b.Zb(6,"date"),b.Jb(),b.Kb(7,"ion-card-title"),b.oc(8),b.Jb(),b.Jb(),b.Kb(9,"ion-card-content"),b.Ib(10,"div",5),b.Ib(11,"hr"),b.nc(12,l,2,1,"div",6),b.Jb(),b.Jb(),b.Jb(),b.Jb()}if(2&e){const e=n.$implicit;b.xb(5),b.pc(b.ac(6,4,e.published,"dd.MM.yyyy hh:mm")),b.xb(3),b.pc(e.title),b.xb(2),b.dc("innerHTML",e.description,b.jc),b.xb(2),b.dc("ngIf",e.isExpanded)}}let h=(()=>{class e{constructor(e,n){this.loadingController=e,this.rssFeedService=n,this.rssFeeds=["TH-Ohm-News-Archiv","TH-Ohm-Calendar"],this.rssFeed=[]}ngAfterViewInit(){return Object(r.a)(this,void 0,void 0,function*(){yield this.fetchNewsData()})}fetchNewsData(){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({message:"Collecting news data..."});yield e.present();const n=[];for(const t of this.rssFeeds)try{const e=yield this.rssFeedService.getArticles(t);e&&(console.log("Received "+e.length+" itens"),n.push(...e))}catch(i){console.log(i)}this.rssFeed=n,yield e.dismiss()})}doRefreshEvents(e){return Object(r.a)(this,void 0,void 0,function*(){yield this.fetchNewsData(),e.target.complete()})}onFeedClick(e){e.isExpanded=!e.isExpanded}}return e.\u0275fac=function(n){return new(n||e)(b.Hb(t.Y),b.Hb(d.a))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-schedule"]],decls:6,vars:1,consts:[["fixed",""],["slot","fixed",3,"ionRefresh"],["lines","none"],[4,"ngFor","ngForOf"],[3,"click"],[3,"innerHTML"],[4,"ngIf"]],template:function(e,n){1&e&&(b.Kb(0,"ion-content"),b.Kb(1,"ion-grid",0),b.Kb(2,"ion-refresher",1),b.Wb("ionRefresh",function(e){return n.doRefreshEvents(e)}),b.Ib(3,"ion-refresher-content"),b.Jb(),b.Kb(4,"ion-list",2),b.nc(5,a,13,7,"ion-item-sliding",3),b.Jb(),b.Jb(),b.Jb()),2&e&&(b.xb(5),b.dc("ngForOf",n.rssFeed))},directives:[t.p,t.u,t.F,t.G,t.B,c.i,t.z,t.y,t.j,t.l,t.m,t.n,t.k,c.j],pipes:[c.d],styles:[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}#location-entry[_ngcontent-%COMP%]{color:#1e90ff;font-weight:700;cursor:pointer}ion-card[_ngcontent-%COMP%]{width:100%;cursor:pointer}"]}),e})(),f=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(n){return new(n||e)},imports:[[t.W,c.b,s.a,o.i.forChild([{path:"",component:h}])]]}),e})()}}]);